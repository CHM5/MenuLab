<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Menú Base</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    h1 { text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
    th { background: #eee; }
  </style>
</head>
<body>
  <h1>Menú Base</h1>
  <p>Este menú está conectado a <a href="https://docs.google.com/spreadsheets/d/1cga9wRgYacHKNXCca2Bde-lJMrWncZB831KjdvxIYGI/edit" target="_blank">esta planilla</a> y se actualiza automáticamente.</p>

  <table id="menuTable">
    <thead>
      <tr>
        <th>Categoría</th>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const CSV_URL = "https://docs.google.com/spreadsheets/d/1cga9wRgYacHKNXCca2Bde-lJMrWncZB831KjdvxIYGI/gviz/tq?tqx=out:csv";

    fetch(CSV_URL)
      .then(response => response.text())
      .then(data => {
        const rows = data.split("\n").slice(0, 25);
        const tbody = document.querySelector("#menuTable tbody");

        rows.forEach(row => {
          const cols = row.split(",").map(col => col.replace(/"/g, ""));
          if (cols.length >= 4) {
            const tr = document.createElement("tr");
            cols.slice(0, 4).forEach(cell => {
              const td = document.createElement("td");
              td.textContent = cell;
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          }
        });
      })
      .catch(err => {
        console.error("Error al cargar el CSV:", err);
      });
  </script>
</body>
</html>
