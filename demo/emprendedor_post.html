<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Men√∫ - MenuLab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="https://res.cloudinary.com/drxznqm61/image/upload/v1758652390/The_Pent_2_a8vhtp.jpg" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Grupo 1 -->
  <link href="https://fonts.googleapis.com/css2?family=Almendra+Display&family=Amatic+SC:wght@400;700&family=Anton&family=Caveat:wght@400;700&family=Codystar:wght@300;400&family=Cormorant+Garamond:wght@400;700&family=Coral+Pixels&display=swap" rel="stylesheet">

  <!-- Grupo 2 -->
  <link href="https://fonts.googleapis.com/css2?family=Ewert&family=Indie+Flower&family=Merriweather:wght@400;700&family=Milonga&family=Monoton&family=Montserrat:wght@400;700&family=Oswald:wght@400;700&display=swap" rel="stylesheet">

  <!-- Grupo 3 -->
  <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&family=Chokokutai&family=Pacifico&family=Playfair+Display:wght@400;700&family=Quicksand:wght@400;700&family=Ranchers:wght@400;700&family=Rubik+Wet+Paint&family=Sora:wght@400;700&family=Source+Code+Pro:wght@400;700&family=Tangerine:wght@400;700&family=Vast+Shadow&display=swap" rel="stylesheet">

<style>
  :root {
    --color-nombre-resto: #000;
    --color-nombre-slogan: #000;
    --color-categoria: #000;
    --color-subcategoria: #000;
    --color-plato: #000;
    --color-descripcion: #555;
    --color-precio: #000;
    --color-info-resto: #000;
    --color-bg: #fff;

    --font-nombre-resto: 'Lato', sans-serif;
    --font-nombre-slogan: 'Lato', sans-serif;
    --font-categoria: 'Lato', sans-serif;
    --font-subcategoria: 'Lato', sans-serif;
    --font-plato: 'Lato', sans-serif;
    --font-descripcion: 'Lato', sans-serif;
    --font-precio: 'Lato', sans-serif;
    --font-info-resto: 'Lato', sans-serif;

    --bg-opacity: 0.15;
    --bg-size-scale: 100%;
    --menu-columns: 2;
    --firulete-opacity: 0.4;

    --logo-size: 100px;
    --size-nombre-resto: 2rem;
    --size-nombre-slogan: 1rem;
    --size-categoria: 1.5rem;
    --size-subcategoria: 1rem;
    --size-plato: 0.95rem;
    --size-descripcion: 0.85rem;
    --size-precio: 0.9rem;
    --size-info-resto: 0.8rem;
    --tracking: 0px;
  }

  body {
    font-family: 'Lato', sans-serif;
    margin: 0 auto;
    background: var(--color-bg);
    letter-spacing: var(--tracking);
    color: var(--color-plato);
    transition: all 0.25s ease;
  }

  /* === FONDO === */
  .print-background {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("https://res.cloudinary.com/drxznqm61/image/upload/v1759872998/drilldown-removebg-preview_zczol3.png")
                no-repeat center center;
    background-size: var(--bg-size-scale);
    opacity: var(--bg-opacity);
    z-index: -1;
    pointer-events: none;
  }

/* Bloque general del encabezado */
.resto-top {
  display: flex;
  align-items: center;       /* centra verticalmente logo y texto */
  justify-content: center;   /* centra todo el conjunto horizontalmente */
  gap: 1.5rem;
  text-align: left;
  column-span: all;
  margin-bottom: 1.5rem;
}

/* Logo */
.resto-header img {
  width: var(--logo-size, 110px);
  height: var(--logo-size, 110px);
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

/* Texto */
.resto-info {
  display: flex;
  flex-direction: column;
  justify-content: center;   /* alinea verticalmente el texto al centro del logo */
  text-align: left;
}

.resto-info h1 {
  font-family: var(--font-nombre-resto);
  font-size: var(--size-nombre-resto);
  margin: 0;
  color: var(--color-nombre-resto);
  font-weight: 700;
}

.resto-info .resto-slogan {
  font-family: var(--font-nombre-slogan);
  font-size: var(--size-nombre-slogan);
  font-style: italic;
  margin: 0.3rem 0 0;
  color: var(--color-nombre-slogan);
}

  #menuTable h3 {
    font-family: var(--font-subcategoria);
    font-size: var(--size-subcategoria);
    color: var(--color-subcategoria);
    font-style: italic;
    margin: 0.4rem 0;
    border-bottom: 1px solid rgba(0,0,0,0.08);
    page-break-after: avoid;
    break-after: avoid;
  }

  /* === CATEGOR√çAS Y PLATOS === */
  h2 {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-family: var(--font-categoria);
    font-size: var(--size-categoria);
    color: var(--color-categoria);
    font-weight: bold;
    text-align: center;
    margin: 1.2rem 0 0.8rem;
    column-span: all;
  }

  h2::before,
  h2::after {
    content: var(--firulete, "‚ú¶ ‚ú¶ ‚ú¶");
    /* üëá el firulete escala autom√°ticamente con la categor√≠a */
    font-size: calc(var(--size-categoria) * 0.6);
    color: var(--color-categoria);
    opacity: var(--firulete-opacity, 0.4);
    transition: font-size 0.25s ease, opacity 0.25s ease;
  }

  .menu-item {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 0.35rem 0;
    break-inside: avoid-column;
    page-break-inside: avoid;
    transition: background 0.2s ease;
  }

  .menu-item:hover {
    background: rgba(0,0,0,0.03);
  }

  .menu-plate {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .menu-plate h4 {
    font-family: var(--font-plato);
    font-size: var(--size-plato);
    color: var(--color-plato);
    margin: 0;
    font-weight: 700;
  }

  .menu-description {
    font-family: var(--font-descripcion);
    font-size: var(--size-descripcion);
    color: var(--color-descripcion);
    margin: 0.2rem 0 0;
  }

  .menu-price {
    font-family: var(--font-precio);
    font-size: var(--size-precio);
    color: var(--color-precio);
    font-weight: bold;
    margin-left: 12px;
    white-space: nowrap;
  }

  .menu-item.destacado {
    background: #f7f7f7 !important;       /* gris muy claro */
    border-left: 4px solid #9e9e9e !important; /* gris medio */
    border-radius: 6px;
    padding: 0.4rem 0.6rem;
    opacity: 0.7;
  }

  /* === FOOTER === */
  .footer {
    font-family: var(--font-info-resto);
    font-size: var(--size-info-resto);
    color: var(--color-info-resto);
    text-align: center;
    border-top: 1px solid #ddd;
    margin-top: 2rem;
    padding: 10px 0;
    column-span: all;
    position: fixed;
  }

  @media screen {
    .footer {
      position: relative;
      bottom: 0;
      width: 100%;
    }
  }
  /* === RESPONSIVE === */
  @media (max-width: 768px) {
    body {
      column-count: 1 !important;
      padding: 10px;
    }

  }

  /* === MODO IMPRESI√ìN === */
  @media print {
    @page {
      size: A4;
      margin: 10mm 8mm 10mm 8mm;
    }
    * {
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
      color-adjust: exact !important;
    }

    .menu-item.destacado {
      background: #f7f7f7 !important;       /* gris muy claro */
      border-left: 4px solid #9e9e9e !important; /* gris medio */
      border-radius: 6px !important;
      padding: 0.4rem 0.6rem !important;
      opacity: 0.7;
    }

    .print-background {
      opacity: var(--bg-opacity) !important;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: var(--color-bg);
      border-top: 1px solid #ccc;
      color: var(--color-info-resto);
      padding: 6px 0;
    }

    .menu-item, .resto-header {
      break-inside: avoid;
      page-break-inside: avoid;
    }
  }

  #menu-frame {
    position: relative;
    box-sizing: border-box;
    border-radius: 12px;
    transition: all 0.25s ease;
    background: var(--color-bg);
    z-index: 1;
    display: flex;
    flex-direction: column;
    min-height: 100vh; 
    padding-bottom: 8mm !important;
  }

  #menu-inner {
    flex: 1; /* ‚úÖ el contenido ocupa el espacio disponible arriba del footer */
  }

  /* ornamentos: base gen√©rica */
  #menu-frame::before,
  #menu-frame::after {
    content: "";
    position: absolute;
    width: 120px;
    height: 120px;
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 0.4;
    pointer-events: none;
    z-index: -1;
  }

  /* Esquinas inferiores adicionales */
  #menu-frame::before {
    top: -10px;
    left: -10px;
  }
  #menu-frame::after {
    bottom: -10px;
    right: -10px;
    transform: rotate(180deg);
  }

body.formato-ancho #menu-columns-wrapper {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  width: 100%;
}

/* === FORMATO POR COLUMNAS === */
body.formato-columnas-reales #menu-columns-wrapper {
  display: flex;
  justify-content: space-between;
  gap: 2rem;
}

/* columnas internas creadas por JS */
body.formato-columnas-reales #menu-columns-wrapper .columna {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

/* Bloques */
.categoria-bloque {
  break-inside: avoid;
  page-break-inside: avoid;
  width: 100%;
}

/* === Alineaci√≥n de t√≠tulos de categor√≠a por clase === */
body.cat-left   h2 { justify-content: flex-start;  text-align: left;  }
body.cat-center h2 { justify-content: center;      text-align: center;}
body.cat-right  h2 { justify-content: flex-end;    text-align: right; }

/* Layout helper para transiciones suaves del header */
.resto-top { transition: justify-content .25s ease; }


</style>

</head>
<body>
  <div id="menu-frame">
    <div id="menu-inner">
      <!-- üåÑ Fondo -->
      <div class="print-background"></div>

      <!-- üè™ Encabezado -->
      <div class="resto-top">
        <div class="resto-header">
          <img src="https://res.cloudinary.com/drxznqm61/image/upload/v1758652390/The_Pent_2_a8vhtp.jpg" 
              alt="Logo" id="logo-resto">
        </div>
        <div class="resto-info">
          <h1 id="nombre-resto"></h1>
          <h3 id="subtitulo-resto" class="resto-slogan"></h3>
        </div>
      </div>

      <!-- üìú Contenido del men√∫ -->
      <div id="menu-columns-wrapper">
        <div id="menuTable"></div>
      </div>
    </div>
    <div class="footer"></div>
  </div>
  
<script>

  (function() {

/* === Datos base de ejemplo === */
window.addEventListener("DOMContentLoaded", () => {
  console.log("üëã Menu listo, notificando al editor...");
  window.parent.postMessage({ type: "ready" }, "*");
});
// === NUEVO BLOQUE DIN√ÅMICO ===

// 1Ô∏è‚É£ Detectar tenant desde la URL
const params = new URLSearchParams(window.location.search);
const tenant = params.get("tenant") || "cafe_central"; // por defecto Caf√© Central

// 2Ô∏è‚É£ Llamar a la API de Apps Script
const API_URL = "https://script.google.com/macros/s/AKfycby-O0nmvEiaqkrkglO1Ja0Hd8f7iVHpZU_wNl3xUpLHZ8xJmeJOg8XtjRaUcyLqznRl/exec";

async function loadMenu() {
  try {
    showLoading();
    document.getElementById("menuTable").innerHTML =
      "<p style='text-align:center;color:#777;font-style:italic;'>Cargando men√∫...</p>";

    const res = await fetch(`${API_URL}?tenant=${tenant}`);
    const data = await res.json();

    if (data.info) {
      renderInfo(data.info);
    }

    if (data.menu && Array.isArray(data.menu)) {
      console.log(`‚úÖ Cargado men√∫ de ${tenant} (${data.count} √≠tems)`);
      renderMenu(data.menu);
    } else {
      document.getElementById("menuTable").innerHTML =
        "<p style='text-align:center;color:#999'>Men√∫ no disponible.</p>";
    }
  } catch (err) {
    console.error("‚ö†Ô∏è Error al conectar con la API:", err);
    document.getElementById("menuTable").innerHTML =
      "<p style='text-align:center;color:#999'>Error al conectar con el servidor.</p>";
  }
}


function renderMenu(rows) {
  const container = document.getElementById("menuTable");
  if (!container) return;
  container.innerHTML = "";

  // Agrupar por categor√≠a y subcategor√≠a
  const grouped = {};
  rows.forEach(item => {
    const cat = item.categoria || "Sin categor√≠a";
    const sub = item.subcategoria || "-";
    if (!grouped[cat]) grouped[cat] = {};
    if (!grouped[cat][sub]) grouped[cat][sub] = [];
    grouped[cat][sub].push(item);
  });

  // Renderizado visual
  Object.entries(grouped).forEach(([cat, subs]) => {
    const catDiv = document.createElement("div");
    catDiv.classList.add("categoria-bloque");

    const catTitle = document.createElement("h2");
    catTitle.textContent = cat;
    catDiv.appendChild(catTitle);

    Object.entries(subs).forEach(([sub, items]) => {
      if (sub && sub !== "-") {
        const subTitle = document.createElement("h3");
        subTitle.textContent = sub;
        catDiv.appendChild(subTitle);
      }

      items.forEach(it => {
        const div = document.createElement("div");
        div.className = "menu-item";
        if (it.tags && it.tags.toString().toLowerCase().includes("destacado")) {
          div.classList.add("destacado");
        }

        div.innerHTML = `
          <div class="menu-plate">
            <h4>${it.plato || it.nombre || ""}</h4>
            <p class="menu-description">${it.descripcion || it.desc || ""}</p>
          </div>
          <span class="menu-price">${it.precio || ""}</span>
        `;
        catDiv.appendChild(div);
      });

    });

    container.appendChild(catDiv);
  });

  // Guardar los bloques para redistribuci√≥n
  capturarBloquesOriginales();

  // Si el body tiene formato columnas, redistribuir
  if (document.body.classList.contains('formato-columnas-reales')) {
    setTimeout(() => distribuirColumnas(), 20);
  }

  console.log("‚úÖ Render finalizado con", rows.length, "√≠tems.");
}


// === Indicador de carga ===
function showLoading(msg = "Cargando men√∫...") {
  const container = document.getElementById("menuTable");
  if (!container) return;
  container.innerHTML = `
    <div id="loadingMenu" style="
      text-align:center;
      color:#666;
      font-family:'Montserrat', sans-serif;
      padding: 40px 10px;
      font-size:1.1rem;
      letter-spacing:0.5px;
    ">
      <i class="fa-solid fa-spinner fa-spin" style="margin-right:6px;color:#1D3557;"></i>${msg}
    </div>
  `;
}

// 3Ô∏è‚É£ Ejecutar al cargar
loadMenu();

function renderInfo(info = {}) {
  const get = (k) => info[k] || "";

  // Logo
  const logo = document.getElementById("logo-resto");
  if (logo && get("logo")) logo.src = get("logo");

  // Nombre y slogan
  const nombreEl = document.getElementById("nombre-resto");
  if (nombreEl) nombreEl.textContent = get("nombre");

  const sloganEl = document.getElementById("subtitulo-resto");
  if (sloganEl) sloganEl.textContent = get("slogan");

  // Footer con info de contacto
  const footer = document.querySelector(".footer");
  if (footer) {
    footer.innerHTML = `
      ${get("direccion") ? `üìç ${get("direccion")} &nbsp;|&nbsp;` : ""}
      ${get("telefono") ? `üìû ${get("telefono")} &nbsp;|&nbsp;` : ""}
      ${get("horarios") ? `üïì ${get("horarios")}` : ""}
    `.trim();
  }

  // Fondo opcional
  const fondo = get("fondo");
  if (fondo) {
    const bg = document.querySelector(".print-background");
    if (bg) bg.style.backgroundImage = `url('${fondo}')`;
  }

  console.log("üß≠ Info del restaurante aplicada:", info);

}

// === SISTEMA DE COLUMNAS DIN√ÅMICO ===
let bloquesOriginales = [];

function capturarBloquesOriginales() {
  const wrapper = document.getElementById('menu-columns-wrapper');
  if (!wrapper) return;
  bloquesOriginales = Array.from(wrapper.querySelectorAll('.categoria-bloque'));
}

function limpiarWrapper() {
  const wrapper = document.getElementById('menu-columns-wrapper');
  if (wrapper) wrapper.innerHTML = '';
}

function distribuirColumnas() {
  const wrapper = document.getElementById('menu-columns-wrapper');
  if (!wrapper || bloquesOriginales.length === 0) return;

  limpiarWrapper();

  const cols = parseInt(getComputedStyle(document.documentElement)
                 .getPropertyValue('--menu-columns')) || 2;

  // Crear contenedores de columnas
  const columnas = [];
  for (let i = 0; i < cols; i++) {
    const col = document.createElement('div');
    col.className = 'columna';
    columnas.push(col);
    wrapper.appendChild(col);
  }

  // Repartir las categor√≠as equilibradamente
  let index = 0;
  bloquesOriginales.forEach(b => {
    columnas[index % cols].appendChild(b);
    index++;
  });
}

function restaurarAnchoCompleto() {
  const wrapper = document.getElementById('menu-columns-wrapper');
  if (!wrapper || bloquesOriginales.length === 0) return;

  limpiarWrapper();
  bloquesOriginales.forEach(b => wrapper.appendChild(b));
}

window.addEventListener("message", (e) => {
  const { type, data } = e.data || {};
  if (!type) return;
  console.log("üéØ [recv] =>", type, data);

  switch (type) {
    case "font-section":
      if (data.section && data.font) {
        document.documentElement.style.setProperty(`--font-${data.section}`, data.font);
        // aplica directo tambi√©n a los nodos
        document.querySelectorAll(getSelector(data.section))
          .forEach(el => { el.style.fontFamily = `'${data.font}', sans-serif`; });
      }
      break;

    case "size-section":
      if (data.section && data.value) {
        const rem = `${data.value}rem`;
        document.documentElement.style.setProperty(`--size-${data.section}`, rem);
        document.querySelectorAll(getSelector(data.section))
          .forEach(el => { el.style.fontSize = rem; });
      }
      break;

    case "color-section":
      if (data.section && data.value) {
        document.documentElement.style.setProperty(`--color-${data.section}`, data.value);
        document.querySelectorAll(getSelector(data.section))
          .forEach(el => { el.style.color = data.value; });
      }
      break;

    case "columns":
      document.body.style.columnCount = data;
      document.documentElement.style.setProperty("--menu-columns", data);
      break;

    case "formato":
      document.body.classList.toggle("multi-columnas", data === "columnas-reales");
      break;

    case "firulete":
      document.documentElement.style.setProperty("--firulete", `"${data || ""}"`);
      break;

    case "firulete-opacity":
      document.documentElement.style.setProperty("--firulete-opacity", data);
      break;

    case "opacity":
      document.documentElement.style.setProperty("--bg-opacity", data);
      break;

    case "bg-size":
      document.documentElement.style.setProperty("--bg-size-scale", `${data}%`);
      break;

    case "frame-style":
      document.documentElement.style.setProperty("--frame-style", data);
      break;
    case "frame-color":
      document.documentElement.style.setProperty("--frame-color", data);
      break;
    case "frame-width":
      document.documentElement.style.setProperty("--frame-width", `${data}px`);
      break;

    case "get-current-styles":
      const cs = getComputedStyle(document.documentElement);
      const styles = {
        fonts: {
          "nombre-resto": cs.getPropertyValue("--font-nombre-resto").trim(),
          "nombre-slogan": cs.getPropertyValue("--font-nombre-slogan").trim(),
          "categoria": cs.getPropertyValue("--font-categoria").trim(),
          "subcategoria": cs.getPropertyValue("--font-subcategoria").trim(),
          "plato": cs.getPropertyValue("--font-plato").trim(),
          "descripcion": cs.getPropertyValue("--font-descripcion").trim(),
          "precio": cs.getPropertyValue("--font-precio").trim(),
          "info-resto": cs.getPropertyValue("--font-info-resto").trim(),
        },
        colors: {
          "nombre-resto": cs.getPropertyValue("--color-nombre-resto").trim(),
          "nombre-slogan": cs.getPropertyValue("--color-nombre-slogan").trim(),
          "categoria": cs.getPropertyValue("--color-categoria").trim(),
          "subcategoria": cs.getPropertyValue("--color-subcategoria").trim(),
          "precio": cs.getPropertyValue("--color-precio").trim(),
          "info-resto": cs.getPropertyValue("--color-info-resto").trim(),
        },
        sizes: {
          "categoria": cs.getPropertyValue("--size-categoria").trim(),
          "subcategoria": cs.getPropertyValue("--size-subcategoria").trim(),
          "plato": cs.getPropertyValue("--size-plato").trim(),
          "descripcion": cs.getPropertyValue("--size-descripcion").trim(),
          "precio": cs.getPropertyValue("--size-precio").trim(),
          "info": cs.getPropertyValue("--size-info").trim(),
        },
        firulete: cs.getPropertyValue("--firulete").trim(),
        bgOpacity: cs.getPropertyValue("--bg-opacity").trim(),
        bgSize: cs.getPropertyValue("--bg-size-scale").trim(),
        frame: {
          style: cs.getPropertyValue("--frame-style").trim(),
          color: cs.getPropertyValue("--frame-color").trim(),
          width: cs.getPropertyValue("--frame-width").trim(),
        }
      };
      window.parent.postMessage({ type: "current-styles-response", data: styles }, "*");
      break;
          /* === NUEVO: FORMATO / CATEGOR√çAS === */
case "formato-layout":
  // data = "1".."6"
  aplicarFormatoLayout(data);
  break;

case "categoria-pos":
  // data = "izq" | "centro" | "der"
  document.body.classList.remove("cat-left","cat-center","cat-right");
  if (data === "izq")    document.body.classList.add("cat-left");
  if (data === "centro") document.body.classList.add("cat-center");
  if (data === "der")    document.body.classList.add("cat-right");
  break;


  }
});

/* üîç Traductor de secciones */
function getSelector(section) {
  switch (section) {
    case "nombre":
    case "nombre-resto":
      return "#nombre-resto, .resto-info h1";
    case "slogan":
    case "nombre-slogan":
      return "#subtitulo-resto, .resto-slogan, .resto-info h3";
    case "categoria":
      return "h2";
    case "subcategoria":
      return "h3";
    case "plato":
      return ".menu-plate h4";
    case "descripcion":
      return ".menu-description";
    case "precio":
      return ".menu-price";
    case "info-resto":
      return ".footer";
    default:
      return "body";
  }
}
})(); 

function aplicarFormatoLayout(layout) {
  const restoTop = document.querySelector(".resto-top");

  // reset
  document.body.classList.remove("formato-ancho", "formato-columnas-reales");
  if (restoTop) restoTop.style.justifyContent = "center";

  switch (layout) {
    case "1": // 1 Col - Header Izquierda
      document.body.classList.add("formato-ancho");
      if (restoTop) restoTop.style.justifyContent = "flex-start";
      restaurarAnchoCompleto();
      break;

    case "2": // 1 Col - Header Centro
      document.body.classList.add("formato-ancho");
      if (restoTop) restoTop.style.justifyContent = "center";
      restaurarAnchoCompleto();
      break;

    case "3": // 2 Col - Header Centro
      document.body.classList.add("formato-columnas-reales");
      document.documentElement.style.setProperty("--menu-columns", 2);
      if (restoTop) restoTop.style.justifyContent = "center";
      setTimeout(distribuirColumnas, 0);
      break;

    case "4": // 2 Col - Header 1¬∞ Col.
      document.body.classList.add("formato-columnas-reales");
      document.documentElement.style.setProperty("--menu-columns", 2);
      if (restoTop) restoTop.style.justifyContent = "flex-start";
      setTimeout(distribuirColumnas, 0);
      break;

    case "5": // 3 Col - Header Centro
      document.body.classList.add("formato-columnas-reales");
      document.documentElement.style.setProperty("--menu-columns", 3);
      if (restoTop) restoTop.style.justifyContent = "center";
      setTimeout(distribuirColumnas, 0);
      break;

    case "6": // 3 Col - Header 1¬∞ Col.
      document.body.classList.add("formato-columnas-reales");
      document.documentElement.style.setProperty("--menu-columns", 3);
      if (restoTop) restoTop.style.justifyContent = "flex-start";
      setTimeout(distribuirColumnas, 0);
      break;
  }
}


// === Funci√≥n para alinear categor√≠as ===
function ajustarCategorias(pos) {
  const cats = document.querySelectorAll("h2");
  cats.forEach(c => {
    if (pos === "izq") c.style.textAlign = "left";
    else if (pos === "centro") c.style.textAlign = "center";
    else if (pos === "der") c.style.textAlign = "right";
  });
}


</script>
</body>
</html>
